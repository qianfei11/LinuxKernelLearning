# use API and asm to invoke syscall

```
gcc time.c -o time -m32
gcc time-asm.c -o time-asm -m32
```

PS: 内嵌汇编常用限定符

| 限定符 |                                描述                                |
| :----: | :----------------------------------------------------------------: |
|  `a`   |                         将输入变量放入 eax                         |
|  `b`   |                         将输入变量放入 ebx                         |
|  `c`   |                         将输入变量放入 ecx                         |
|  `d`   |                         将输入变量放入 edx                         |
|  `s`   |                         将输入变量放入 esi                         |
|  `D`   |                         将输入变量放入 edi                         |
|  `q`   |             将输入变量放入 eax、ebx、ecx、edx 中的一个             |
|  `r`   | 将变量放入通用寄存器，也就是 eax、ebx、ecx、edx、esi、edi 中的一个 |
|  `A`   |       放入 eax 和 edx，把 eax 和 edx 合成一个 64 位的寄存器        |
|  `m`   |                              内存变量                              |
|  `o`   |            操作数为内存变量，但是其寻址方式是偏移量类型            |
|  `V`   |           操作数为内存变量，但是其寻址方式不是偏移量类型           |
|  `,`   |               操作数为内存变量，但寻址方式为自动增量               |
|  `p`   |                 操作数是一个合法的内存地址（指针）                 |
|  `g`   |     将输入变量放入 eax、ebx、ecx、edx 中的一个或者作为内存变量     |
|  `X`   |                        操作数可以是任何类型                        |
|  `I`   |             0 ～ 31 之间的立即数（用于 32 位移位指令）             |
|  `J`   |             0 ～ 63 之间的立即数（用于 64 位移位指令）             |
|  `N`   |               0 ～ 255 之间的立即数（用于 out 指令）               |
|  `i`   |                               立即数                               |
|  `n`   |    立即数，有些系统不支持除字以外的立即数，这些系统应该使用`n`     |
|  `=`   |                操作数在指令中是只写的（输出操作数）                |
|  `+`   |            操作数在指令中是读写类型的（输入输出操作数）            |
|  `f`   |                               浮点数                               |
|  `t`   |                          第一个浮点寄存器                          |
|  `u`   |                          第二个浮点寄存器                          |
|  `G`   |                            标准的 80387                            |
|  `%`   |                 该操作数可以和下一个操作数交换位置                 |
|  `#`   |         部分注释，从该字符到其后的逗号之间所有的字母被忽略         |
|  `*`   |               表示如果选用寄存器，则其后的字母被忽略               |
